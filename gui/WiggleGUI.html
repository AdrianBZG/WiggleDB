<!DOCTYPE html>
<!-- saved from url=(0048)http://getbootstrap.com/examples/justified-nav/# -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="http://www.ebi.ac.uk/favicon.ico">

    <title>GenomeStats</title>

    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">

      <div class="masthead">
        <h3 class="text-muted">GenomeStats</h3>
        <ul class="nav nav-justified" id="myTab">
          <li class="active"><a href="#summarise" data-toggle="tab">Summarise</a></li>
          <li><a href="#compare" data-toggle="tab">Comparison</a></li>
          <li><a href="#annotate" data-toggle="tab">Annotation</a></li>
          <li><a href="#upload" data-toggle="tab">My Annotations</a></li>
          <li><a href="#about" data-toggle="tab">About</a></li>
        </ul>

        <div class="tab-content" id="myTabContent">
          <div class="tab-pane active" id="summarise">
            <table id="choose" width="100%">
              <tr>
                <td>
                  <div style="border:2px solid gray;border-radius:5px;padding:10px">
                    <br> 
                    1. Select all datasets such that:
                    <br>
                    <div id='selection' class="panel-group">
                      <!-- This is where the selectors go -->
                    </div>
                    <a href="http://dcc.blueprint-epigenome.eu/#/datasets" target="_blank" id="count">
                      <!-- This is where the selectors go -->
                    </a>
                    <br>
                    <br>
                    ... then compute their:
                    <select id="reduction" class='form-control'>
                      <!-- This is where the reduction options go -->
                    </select>
                    <br>
                    <div class="panel-heading">
                      <h4 class='panel-title'>
                        <a data-toggle="collapse" data-target="#filters" class='collapsed'>
                          Optional filters
                        </a>
                      </h4>
                    </div>
                    <div id='filters' class="filters panel-group panel-collapse collapse">
                      ... then select regions that:
                      <!-- This is where the selectors go -->
                    </div>
                    <br>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <br>
                  <div style="border:2px solid gray;border-radius:5px;padding:10px">
                    <button type='button' class="btn btn-primary" id='summary_button' type="submit" data-loading-text="Computing...">Submit</button>
                  </div>
                </td>
              </tr>
            </table>
          </div>

          <div class="tab-pane" id="compare">
            <table width="100%" style="layout:fixed">
              <col width="50%">
              <col width="50%">
              <tr>
                <td>
                  <div style="border:2px solid gray;border-radius:5px;padding:10px">
                    <table id="chooseA" width=100%>
                      <tr>
                        <td>
                          <br> 
                          1A. Select all datasets such that:
                          <br>
                          <div id='selection' class="panel-group">
                            <!-- This is where the selectors go -->
                          </div>
			  <a href="http://dcc.blueprint-epigenome.eu/#/datasets" target="_blank" id="count">
                            <!-- This is where the count goes -->
                          </a>
                          <br>
                          <br>
                          ... then compute their:
                          <select class='form-control' id="reduction">
                            <!-- This is where the reduction options go -->
                          </select>
                          <br>
                          <div class="panel-heading">
                            <h4 class='panel-title'>
                              <a data-toggle="collapse" data-target="#filters2" class='collapsed'>
                                Optional filters
                              </a>
                            </h4>
                          </div>
                          <div id='filters2' class="filters panel-group panel-collapse collapse">
                            ... then select regions that:
                            <!-- This is where the selectors go -->
                          </div>
                          <br>
                        </td>
                      </tr>
                    </table>
                  </div>
                </td>
                <td>
                  <div style="border:2px solid gray;border-radius:5px;padding:10px;height:100%">
                    <table id="chooseB" width=100%>
                      <tr>
                        <td>
                        <br> 
                          1B. Select all datasets such that:
                          <br>
                          <div id='selection' class="panel-group">
                            <!-- This is where the selectors go -->
                          </div>
			  <a href="http://dcc.blueprint-epigenome.eu/#/datasets" target="_blank" id="count">
                            <!-- This is where the count goes -->
                          </a>
                          <br>
                          <br>
                          ... then compute their:
                          <select class='form-control' id="reduction">
                            <!-- This is where the reduction options go -->
                          </select>
                          <br>
                          <div class="panel-heading">
                            <h4 class='panel-title'>
                              <a data-toggle="collapse" data-target="#filters3" class='collapsed'>
                                Optional filters
                              </a>
                            </h4>
                          </div>
                          <div id='filters3' class="filters panel-group panel-collapse collapse">
                            ... then select regions that:
                            <!-- This is where the selectors go -->
                          </div>
                          <br>
                        </td>
                      </tr>
                    </table>
                  </div>
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <br>
                  <div style="border:2px solid gray;border-radius:5px;padding:10px">
                   2. Compute their:
                    <center>
                    <select class='form-control' id="comparison">
                      <!-- This is where the comparison options go -->
                    </select>
                    </center>
                  </div>
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <br>
                  <div style="border:2px solid gray;border-radius:5px;padding:10px">
                    <button type='button' class="btn btn-primary" id="comparison_button" type="submit" data-loading-text="Computing...">Submit</button>
                  </div>
                </td>
              </tr>
            </table>
          </div>

          <div class="tab-pane" id="annotate">
            <table width="100%" style="layout:fixed">
              <col width="50%">
              <col width="50%">
              <tr>
                <td>
                  <div style="border:2px solid gray;border-radius:5px;padding:10px">
                    <table id="chooseA2" width="100%" style="layout:fixed">
                      <tr>
                        <td>
                          <br> 
                          1A. Select all datasets such that:
                          <br>
                          <div id='selection' class="panel-group">
                            <!-- This is where the selectors go -->
                          </div>
			  <a href="http://dcc.blueprint-epigenome.eu/#/datasets" target="_blank" id="count">
                            <!-- This is where the count goes -->
                          </a>
                          <br>
                          <br>
                          ... then merge them using:
                          <select class='form-control' id="reduction">
                            <!-- This is where the reduction options go -->
                          </select>
                          <br>
                          <div class="panel-heading">
                            <h4 class='panel-title'>
                              <a data-toggle="collapse" data-target="#filters4" class='collapsed'>
                                Optional filters
                              </a>
                            </h4>
                          </div>
                          <div id='filters4' class="filters panel-group panel-collapse collapse">
                            ... then select regions that:
                            <!-- This is where the selectors go -->
                          </div>
                          <br>
                        </td>
                      </tr>
                    </table>
                  </div>
                </td>
                <td>
                  <table id="references" width="100%" style="layout:fixed">
                    <tr>
                      <td>
                        <br> 
                        <div style="border:2px solid gray;border-radius:5px;padding:10px;height:100%">
                        1.B Choose some known annotations:
                        <div class="panel-group" style = "overflow" width="100%">
                          <table id="refs" width="100%">
                          <!-- This is where the references go -->
                          </table>
                        </div>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <br>
                  <div style="border:2px solid gray;border-radius:5px;padding:10px">
                    2. Generate summary of the datasets on the left with respect to the annotations on the right:
                    <center>
                      <select class='form-control' id="annotation">
                        <!-- This is where the comparison options go -->
                      </select>
                    </center>
                  </div>
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <br>
                  <div style="border:2px solid gray;border-radius:5px;padding:10px">
                    <button type="button" class="btn btn-primary" id="annotation_button" type="submit" data-loading-text="Computing...">Submit</button>
                  </div>
                </td>
              </tr>
            </table>

          </div>

          <div class="tab-pane" id="upload">
	    <div style="border:2px solid gray;border-radius:5px;padding:10px">
	      <table width='100%'>
		<tr>
		  <td width='50%'>
		    <table>
		      <tr>
			<td>
			  URL: 
			</td>
			<td>
			  <input type="text" id="URL"> 
			</td>
		      </tr>
		      <tr>
			<td>
			  Name: 
			</td>
			<td>
			  <input type="text" id="url_description" value="My Annotation"> 
			</td>
		      </tr>
		      <tr>
			<td>
			  <button type="button" class="btn btn-primary" id="upload_button" type="submit" data-loading-text="Loading...">Upload</button>
			</td>
		      </tr>
		    </table>
		  </td>
		  <td width='50%'>
		    <form enctype="multipart/form-data">
		      <table id="FileUpload">
			<tr>
			  <td>
			    File:
			  </td>
			  <td> 
			    <input type="file" id="file">
			  </td>
			</tr>
			<tr>
			  <td>
			    Name: 
			  </td>
			  <td> 
			    <input type="text" id="upload_description" value="My Annotation"> 
			  </td>
			</tr>
			<tr>
			  <td>
			    <button type="button" class="btn btn-primary" id="upload_file_button" type="submit" data-loading-text="Loading...">Upload</button>
			  </td>
			</tr>
		      </table>
		    </form>
		  </td>
		</tr>
	      </table>
            </div>
	    <div style="border:2px solid gray;border-radius:5px;padding:10px">
	      <table id="myannots" width="100%">
	      <tr>
	      <td width="20">  </td>
	      <td width="20">  </td>
	      <td></td>
	      </tr>
	      <!-- This is where user annotations go -->
	      </table>
	    </div>
          </div>

          <div class="tab-pane" id="retrieve">
            <br>
            Enter your job ID: <input id="result_box" type="text">  <button type='button' class='btn btn-primary' id="result_button">Get report</button>
          </div>

          <div class="tab-pane" id="about">
            <br>
            <p> GenomeStats was developed at <a href="http://ebi.ac.uk">EMBL-EBI</a> in collaboration with the <a href="http://blueprint-epigenome.eu">Blueprint consortium.</a></p>
            <p> For more information contact: <a href="mailto:helpdesk@ensembl.org">helpdesk@ensembl.org</a></p>
            <p> If you use this tool, please cite:<br> 
                <a href="http://bioinformatics.oxfordjournals.org/content/30/7/1008">Daniel R. Zerbino, Nathan Johnson, Thomas Juettemann, Steven P. Wilder and Paul Flicek. WiggleTools: parallel processing of large collections of genome-wide datasets for visualization and statistical analysis. 2014 Bioinformatics 30(7):1008-1009.</a></i>
            </p>
          </div>
        </div>
      </div>


      <!-- Site footer -->
      <div class="footer">
        <table id="choose" width="100%">
          <tr>
            <td><a href="http://www.ebi.ac.uk"><img src="images/EBI_logo.jpg" height="50px"></a></td>
            <td><a href="http://www.blueprint-epigenome.eu/"><img src="images/BP.png" height="50px"></a></td>
            <td><a href="http://ec.europa.eu/index_en.htm"><img src="images/EUFlag.jpg" height="70px"></a></td>
            <td><a href="http://ec.europa.eu/research/fp7/index_en.cfm"><img src="images/FP7.jpg" height="70px"></a></td>
          </tr>
        </table>
      </div>

      <!-- Success Modal -->
      <div class="modal fade" id="Success_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Job done!</h4>
            </div>
            <div class="modal-body">
              Your job is done, you can download the results <a id="url" target="_blank">here</a>, or view them <a id="view" target="_blank">here</a>.
              <br>
              <br>
              Alternately, you may wish to save it under label: <input id=name type=text>
            </div>
            <div class="modal-footer">
              <button type="button" id="save" class="btn btn-primary" data-dismiss="modal">Save</button>
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Image Modal -->
      <div class="modal fade" id="Image_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Job done!</h4>
            </div>
            <div class="modal-body">
              Your job is done, you can download the results <a id="url">here</a>:
            </div>
            <div>
              <center>
                <a id="photo_url"><img width="80%"></a>
              </center>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty Modal -->
      <div class="modal fade" id="Empty_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Job done!</h4>
            </div>
            <div class="modal-body">
              Your job is done, but the result is empty. Think about it.
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Failure Modal -->
      <div class="modal fade" id="Failure_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Error</h4>
            </div>
            <div class="modal-body">
              Your job has failed, an e-mail was sent to the system administrators.
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Waiting Modal -->
      <div class="modal fade" id="Waiting_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Patience...</h4>
            </div>
            <div class="modal-body">
              Your job is coming...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Unknown Modal -->
      <div class="modal fade" id="Unknown_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Job unknown</h4>
            </div>
            <div class="modal-body">
              Nope, I've never heard of that job, sorry...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty Modal -->
      <div class="modal fade" id="Invalid_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Invalid command</h4>
            </div>
            <div class="modal-body">
              You requested an operation on 0 datasets, check your parameters.
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Job Sent Modal -->
      <div class="modal fade" id="JobSent_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">It's off!</h4>
            </div>
            <div class="modal-body">
              Your job has been registered, and issued ticket #<div id="job_id"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Data uploaded Modal -->
      <div class="modal fade" id="Success_upload_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Success</h4>
            </div>
            <div class="modal-body">
              Your data has been successfully uploaded. 
              <br>
              <br>
              You will find it in the same lists and menus as the default annotations.
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Data malformed modal -->
      <div class="modal fade" id="Malformed_upload_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Failure</h4>
            </div>
            <div class="modal-body">
              I encountered an error uploading file <a id="url"></a>. 
              <br>
              I assumed it was in <span id="format"></span> format, but I could be wrong. 
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Data NOT uploaded Modal -->
      <div class="modal fade" id="Assembly_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Failure</h4>
            </div>
            <div class="modal-body">
              I did not recognize the chromosome names in your file, I expected:
              <br>
              <span id="expected_chromosomes"></span>
              <br>
              <br>
              yet I found:
              <br>
              <span id="found_chromosomes"></span>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Data NOT uploaded Modal -->
      <div class="modal fade" id="Rename_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Failure</h4>
            </div>
            <div class="modal-body">
              I could not upload file, please pick another name. 
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Data NOT uploaded Modal -->
      <div class="modal fade" id="Failed_upload_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Failure</h4>
            </div>
            <div class="modal-body">
              I could not upload file <a id="url"></a>. 
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Provenance Modal -->
      <div class="modal fade" id="Provenance_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel"></h4>
            </div>
            <div class="modal-body" id="myModalBody">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Share Modal -->
      <div class="modal fade" id="Share_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel"></h4>
            </div>
            <div class="modal-body" id="myModalBody">
              You annotation '<span id="name"></span>' can be found at: 
              <br>
              <a id='url' target='_blank'></a>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Confirm deletion Modal -->
      <div class="modal fade" id="Confirm_deletion_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel"></h4>
            </div>
            <div class="modal-body" id="myModalBody">
              Are you sure you wish to delete your '<span id="name"></span>' annotation? 
            </div>
            <div class="modal-footer">
              <button type="button" id="confirm" class="btn btn-primary" data-dismiss="modal">Delete</button>
              <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
            </div>
          </div>
        </div>
      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/justified-nav.css" rel="stylesheet">

    <!-- Latest compiled and minified JavaScript -->
    <script src="libs/jquery-1.11.1.min.js"></script>

    <!-- Bootstrap core JavaScript -->
    <script src="libs/bootstrap.js"></script>

    <!-- Bootstrap multiselect -->
    <script src="libs/bootstrap-multiselect.js"></script>

    <!-- The actual script -->
    <script src="WiggleGUI.js"></script>

</body></html>
